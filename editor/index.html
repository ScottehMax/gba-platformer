<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GBA Level Editor</title>
    <link rel="stylesheet" href="editor.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>GBA Level Editor</h1>
            <div class="toolbar">
                <button id="newLevel">New Level</button>
                <button id="loadLevel">Load Level</button>
                <button id="saveLevel">Save Level</button>
                <input type="file" id="fileInput" accept=".json" style="display: none;">
                <span class="separator">|</span>
                <button id="undo" disabled>Undo</button>
                <button id="redo" disabled>Redo</button>
                <span class="separator">|</span>
                <label>
                    <input type="checkbox" id="showGrid" checked>
                    Show Grid
                </label>
                <label>
                    <input type="checkbox" id="showObjects" checked>
                    Show Objects
                </label>
            </div>
        </header>

        <div class="editor-layout">
            <aside class="sidebar left">
                <div class="panel">
                    <h3>Level Properties</h3>
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" id="levelName" value="Untitled Level">
                    </div>
                    <div class="form-group">
                        <label>Author:</label>
                        <input type="text" id="levelAuthor" value="">
                    </div>
                    <div class="form-group">
                        <label>Width (tiles):</label>
                        <input type="number" id="levelWidth" value="60" min="10" max="256">
                    </div>
                    <div class="form-group">
                        <label>Height (tiles):</label>
                        <input type="number" id="levelHeight" value="20" min="10" max="256">
                    </div>
                    <button id="resizeLevel">Resize Level</button>
                </div>

                <div class="panel">
                    <h3>Tools</h3>
                    <div class="tool-buttons">
                        <button class="tool-btn active" data-tool="brush">üñåÔ∏è Brush</button>
                        <button class="tool-btn" data-tool="eraser">üßπ Eraser</button>
                        <button class="tool-btn" data-tool="fill">ü™£ Fill</button>
                        <button class="tool-btn" data-tool="object">üìç Object</button>
                    </div>
                </div>

                <div class="panel">
                    <h3>Tile Palette</h3>
                    <div id="tilePalette" class="tile-palette">
                        <!-- Tiles will be rendered here -->
                    </div>
                </div>
            </aside>

            <main class="canvas-container">
                <div class="canvas-controls">
                    <span>Zoom: <span id="zoomLevel">200%</span></span>
                    <button id="zoomOut">-</button>
                    <button id="zoomIn">+</button>
                    <button id="resetView">Reset View</button>
                    <span class="separator">|</span>
                    <span>Mouse: <span id="mousePos">-</span></span>
                    <span class="separator">|</span>
                    <span>Tool: <span id="currentTool">Brush</span></span>
                </div>
                <div class="canvas-wrapper">
                    <canvas id="editorCanvas"></canvas>
                </div>
            </main>

            <aside class="sidebar right">
                <div class="panel">
                    <h3>Objects</h3>
                    <div class="object-type-selector">
                        <select id="objectType">
                            <option value="player_spawn">Player Spawn</option>
                            <option value="enemy">Enemy</option>
                            <option value="item">Item</option>
                        </select>
                    </div>
                    <button id="setPlayerSpawn">Set Player Spawn Here</button>
                    <div class="info">
                        <p>Current Spawn: <span id="spawnInfo">Not set</span></p>
                    </div>
                </div>

                <div class="panel">
                    <h3>Object List</h3>
                    <div id="objectList" class="object-list">
                        <p class="empty-message">No objects placed</p>
                    </div>
                </div>

                <div class="panel">
                    <h3>Instructions</h3>
                    <div class="instructions">
                        <p><strong>Keyboard Shortcuts:</strong></p>
                        <ul>
                            <li><kbd>B</kbd> - Brush tool</li>
                            <li><kbd>E</kbd> - Eraser tool</li>
                            <li><kbd>F</kbd> - Fill tool</li>
                            <li><kbd>O</kbd> - Object tool</li>
                            <li><kbd>G</kbd> - Toggle grid</li>
                            <li><kbd>Z</kbd> - Undo</li>
                            <li><kbd>Y</kbd> - Redo</li>
                            <li><kbd>Space</kbd> - Pan (hold & drag)</li>
                        </ul>
                        <p><strong>Mouse:</strong></p>
                        <ul>
                            <li>Left click - Place tile/object</li>
                            <li>Right click - Erase</li>
                            <li>Middle click - Pan</li>
                            <li>Scroll - Zoom</li>
                        </ul>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <script src="editor.js"></script>
</body>
</html>
